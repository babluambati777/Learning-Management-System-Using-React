{"ast":null,"code":"import _objectSpread from\"C:/Users/bablu/OneDrive/Desktop/Gradious/LMS/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{batchAPI}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BatchForm=_ref=>{let{batch,onSuccess,onCancel}=_ref;const[formData,setFormData]=useState({batchName:'',batchCode:'',startDate:'',endDate:'',description:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');useEffect(()=>{if(batch){setFormData({batchName:batch.batchName,batchCode:batch.batchCode,startDate:batch.startDate.split('T')[0],endDate:batch.endDate.split('T')[0],description:batch.description||''});}},[batch]);const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{if(batch){await batchAPI.update(batch._id,formData);}else{await batchAPI.create(formData);}onSuccess();}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to save batch');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-error\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"batchName\",children:\"Batch Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"batchName\",name:\"batchName\",value:formData.batchName,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"batchCode\",children:\"Batch Code *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"batchCode\",name:\"batchCode\",value:formData.batchCode,onChange:handleChange,required:true,style:{textTransform:'uppercase'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"startDate\",children:\"Start Date *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"startDate\",name:\"startDate\",value:formData.startDate,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"endDate\",children:\"End Date *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"endDate\",name:\"endDate\",value:formData.endDate,onChange:handleChange,required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",value:formData.description,onChange:handleChange,rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,style:{flex:1},children:loading?'Saving...':batch?'Update Batch':'Create Batch'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:onCancel,style:{flex:1},children:\"Cancel\"})]})]});};export default BatchForm;","map":{"version":3,"names":["React","useState","useEffect","batchAPI","jsx","_jsx","jsxs","_jsxs","BatchForm","_ref","batch","onSuccess","onCancel","formData","setFormData","batchName","batchCode","startDate","endDate","description","loading","setLoading","error","setError","split","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","update","_id","create","err","_err$response","_err$response$data","response","data","message","onSubmit","children","className","htmlFor","type","id","onChange","required","style","textTransform","rows","display","gap","marginTop","disabled","flex","onClick"],"sources":["C:/Users/bablu/OneDrive/Desktop/Gradious/LMS/Frontend/src/components/Batches/BatchForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { batchAPI } from '../../services/api';\r\n\r\nconst BatchForm = ({ batch, onSuccess, onCancel }) => {\r\n  const [formData, setFormData] = useState({\r\n    batchName: '',\r\n    batchCode: '',\r\n    startDate: '',\r\n    endDate: '',\r\n    description: '',\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (batch) {\r\n      setFormData({\r\n        batchName: batch.batchName,\r\n        batchCode: batch.batchCode,\r\n        startDate: batch.startDate.split('T')[0],\r\n        endDate: batch.endDate.split('T')[0],\r\n        description: batch.description || '',\r\n      });\r\n    }\r\n  }, [batch]);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      if (batch) {\r\n        await batchAPI.update(batch._id, formData);\r\n      } else {\r\n        await batchAPI.create(formData);\r\n      }\r\n      onSuccess();\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to save batch');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {error && <div className=\"alert alert-error\">{error}</div>}\r\n\r\n      <div className=\"input-group\">\r\n        <label htmlFor=\"batchName\">Batch Name *</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"batchName\"\r\n          name=\"batchName\"\r\n          value={formData.batchName}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div className=\"input-group\">\r\n        <label htmlFor=\"batchCode\">Batch Code *</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"batchCode\"\r\n          name=\"batchCode\"\r\n          value={formData.batchCode}\r\n          onChange={handleChange}\r\n          required\r\n          style={{ textTransform: 'uppercase' }}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"grid grid-2\">\r\n        <div className=\"input-group\">\r\n          <label htmlFor=\"startDate\">Start Date *</label>\r\n          <input\r\n            type=\"date\"\r\n            id=\"startDate\"\r\n            name=\"startDate\"\r\n            value={formData.startDate}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-group\">\r\n          <label htmlFor=\"endDate\">End Date *</label>\r\n          <input\r\n            type=\"date\"\r\n            id=\"endDate\"\r\n            name=\"endDate\"\r\n            value={formData.endDate}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"input-group\">\r\n        <label htmlFor=\"description\">Description</label>\r\n        <textarea\r\n          id=\"description\"\r\n          name=\"description\"\r\n          value={formData.description}\r\n          onChange={handleChange}\r\n          rows=\"3\"\r\n        ></textarea>\r\n      </div>\r\n\r\n      <div style={{ display: 'flex', gap: '10px', marginTop: '20px' }}>\r\n        <button type=\"submit\" className=\"btn btn-primary\" disabled={loading} style={{ flex: 1 }}>\r\n          {loading ? 'Saving...' : batch ? 'Update Batch' : 'Create Batch'}\r\n        </button>\r\n        <button type=\"button\" className=\"btn btn-secondary\" onClick={onCancel} style={{ flex: 1 }}>\r\n          Cancel\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default BatchForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}